pkgname=aalt
pkgver=0.2.1a
_hash=34748fb2f3decd55205e5385a2706b44aeee91b4
pkgrel=1
pkgdesc="Abyss ALTernatives"
url="https://github.com/5paceToast/aalt"
source="
    $pkgname-$pkgver.tar.gz::$url/archive/$_hash.tar.gz
    aalt-bin
    aalt-bin-abyss.conf"
triggers="aalt.trigger=/var/lib/aalt/bin/*"
arch="noarch"
license="Unlicense"
builddir="$srcdir/$pkgname-$_hash"
depends="zsh"
options="!check"

build() {
    cd "$builddir"
    make aalt.zwc
}

package() {
    cd "$builddir"
    install -Dm644 aalt.zwc "$pkgdir"/usr/share/aalt.zwc
    install -Dm755 "$srcdir"/aalt-bin "$pkgdir"/usr/bin/aalt-bin
    install -Dm644 "$srcdir"/aalt-bin-abyss.conf \
        "$pkgdir"/var/lib/aalt/bin/aalt-bin-abyss.conf
}
b2sums="90b55140ada44561bfe8f3659b4359a8289034b4a5117d3455ec0f0f7211a8d16f8add7de9aec3f02b42bee78a406d5367e961c10d2eb1a0e11684e4074abd30  aalt-0.2.1a.tar.gz
8383e57c2e2ab209df445ce28131cf7d96339c821ab1189b86b7e88621215c6dc25fb0079fdaec15529a923372a9b7071f527f27521608f44b55c9100d321e38  aalt-bin
b41b17a1f3ac0578bd9ee02c9fcdd31b0e3236a7f2c898b1c4c73575f076f59c4f158e79208568843ae7708e670af9f3714f949773c726ead88c5e3858f12088  aalt-bin-abyss.conf"

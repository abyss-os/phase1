pkgname=aalt
pkgver=0.1.0a
_hash=422f8c9ca731a9ff7f6e5c822771df8b68a544e2
pkgrel=1
pkgdesc="Abyss ALTernatives"
url="https://github.com/5paceToast/aalt"
source="
    $pkgname-$pkgver.tar.gz::$url/archive/$_hash.tar.gz
    aalt-bin
    aalt-bin-abyss.conf"
triggers="aalt.trigger=/var/lib/aalt/bin/*"
arch="noarch"
license="Unlicense"
builddir="$srcdir/$pkgname-$_hash"
depends="zsh"
options="!check"

build() {
    cd "$builddir"
    make aalt.zwc
}

package() {
    cd "$builddir"
    install -Dm644 aalt.zwc "$pkgdir"/usr/share/aalt.zwc
    install -Dm755 "$srcdir"/aalt-bin "$pkgdir"/usr/bin/aalt-bin
    install -Dm644 "$srcdir"/aalt-bin-abyss.conf \
        "$pkgdir"/var/lib/aalt/bin/aalt-bin-abyss.conf
}

b2sums="ba20d60fe028dd5b4a5882d57aa1bdd6a4d1ff0c4846dfa73be19c778318790e7d6a30d1ec0c2140f497f21e5bbc23b845f7d65ef654a80c8fc591ebabe6fc60  aalt-0.1.0a.tar.gz
c831e539be0edba13d50f4a082b5e95fef98322ffa2613b7cc9d6711399676699d58ff1af39b13253dbedcfc9b0ba42c505b2cc825b998800d469d3d2cbc00ec  aalt-bin
04dd1fbba514227f36c89d1d368ef344eab0127efa75e0d6676eab4b5d60fdc61d18e1237ade4ff797abd46a308028902f6037dc49acb81d0e6d0ff81b65d216  aalt-bin-abyss.conf"

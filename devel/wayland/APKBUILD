pkgname="wayland"
pkgver="1.18.0"
pkgrel=3
pkgdesc="Core Wayland window system code and protocol."
url="https://wayland.freedesktop.org/"
arch="all"
license="MIT"
makedepends="ninja meson expat-dev libffi-dev libxml2-dev"
subpackages="$pkgname-dev"
source="https://gitlab.freedesktop.org/wayland/wayland/-/archive/$pkgver/wayland-$pkgver.tar.gz"
builddir="$srcdir/wayland-$pkgver"

build() {
	# no docs, don't want to package doxygen and dot
	mkdir output && cd output
	../autogen.sh --prefix=/usr --sysconfdir=/etc --mandir=/usr/share/man --localstatedir=/var --disable-documentation --enable-libraries
	make -j${JOBS}
}

check() {
	# Replace with proper check command(s)
	:
}

package() {
	cd output
	make DESTDIR="$pkgdir" install
}

b2sums="a98da5e93aa4f3a1a11c73db5ba2381ddecb8fe905489dc8b4f5aece9d4b0be1632bbb637070209cdecd98b1cba0d07b583220892018e0ccdf807153ae297d61  wayland-1.18.0.tar.gz"
